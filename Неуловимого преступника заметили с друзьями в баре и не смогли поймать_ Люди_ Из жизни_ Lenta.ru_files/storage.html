<!DOCTYPE html>
<!-- saved from url=(0056)https://id.lenta.ru/rambler-id-helper/2.3.0/storage.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title></title><meta name="viewport" content="width=device-width,initial-scale=1"></head><body><script>(()=>{"use strict";const e=(e,t={})=>{const{raw:r}=t;let o;try{const t=(()=>{const e={};if(document.cookie?.length){const t=document.cookie.split(";");for(let r,o=0,n=t.length;o<n;o++)r=t[o].replace(/^(\s|\u00A0)+/g,"").split("="),e[r[0]]=decodeURIComponent(r[1])}return e})()[e];o=r?t:JSON.parse(t??"")}catch{}return o??null},t="undefined"!=typeof window&&window.document&&"requestStorageAccess"in document&&"function"==typeof document.requestStorageAccess,r=["id.rambler.ru"],o=["id.lenta.ru"],n=["secretmag","eda","lenta","afisha","champ","motor","quto","passion","ferra","lentaru","wmj","letidor","indicator","moslenta"],i={secretmag:["id.secretmag.ru"],eda:["rid.eda.ru"],lenta:o,afisha:["idrambler.afisha.ru"],champ:["id.championat.com","id.championat.ru"],motor:["id.motor.ru"],quto:["id.quto.ru"],passion:["id.passion.ru"],ferra:["id.ferra.ru"],lentaru:o,wmj:["id.wmj.ru"],letidor:["id.letidor.ru"],indicator:["id.indicator.ru"],moslenta:["id.moslenta.ru"],smailbox:["id.smailbox.ru"]},a=e=>e.split(".").slice(-2).join(".");var s;!function(e){e.INSTALL="install",e.INSTALLED="installed",e.ERROR="error",e.REGISTER="register",e.LOGIN="login",e.SELECTPROFILE="selectprofile",e.OAUTHLOGIN="oauthlogin",e.OAUTHERROR="oautherror",e.LOGOUT="logout",e.CLOSE="close",e.REDIRECT="redirect",e.RESIZE="resize",e.LOADED="loaded",e.DESTROY="destroy",e.NAVIGATE="navigate",e.REQUEST_QR_CODE="request_qr_code",e.RESPONSE_QR_CODE="response_qr_code"}(s||(s={}));const d=[s.INSTALLED,s.REGISTER,s.CLOSE,s.REDIRECT,s.RESIZE,s.LOADED,s.NAVIGATE,s.REQUEST_QR_CODE,s.OAUTHERROR,s.SELECTPROFILE],c=(()=>{if("undefined"==typeof window)return"";const{hostname:e}=window.location,[o]=t?((e=n)=>[...new Set([...r,...e.map((e=>i[e])).filter(Boolean).flat()])])(Object.keys(i)).filter((t=>a(t)===a(e))):[];return o?`https://${o}`:"https://id.rambler.ru"})(),l="ramblerIdHelper",{hostname:u,pathname:m}=window.location,E=window.parent,p=navigator.userAgent.toLowerCase(),f=!(/(msie|trident|edge)/.test(p)||/safari/.test(p)&&!/chrome/.test(p));let g,R;const S=({key:e,newValue:t})=>{if(e===l&&t)try{const e=JSON.parse(t);e.emitter=l,E.postMessage(e,R)}catch(e){}};window.addEventListener("message",(({data:e,origin:t})=>{if(!e||"object"!=typeof e)return;const{emitter:r,...o}=e,n=e.eventType;r!==l||((e,t)=>{const r="https://id.rambler.ru"!==t||t!==c;return d.includes(e)&&r})(n,t)||(n!==s.INSTALL?f?((e,t,r={})=>{const{raw:o}=r;try{const r=o?String(t):JSON.stringify(t);window.localStorage.setItem(e,r)}catch{}})(l,o):((e,t,r={})=>{const{raw:o,expires:n,path:i,domain:a,samesite:s,secure:d}=r;try{let r;"number"==typeof n?(r=new Date,r.setTime(r.getTime()+24*n*60*60*1e3)):r=n;let c=`${e}=${encodeURIComponent(o?String(t):JSON.stringify(t))}`;c+=r?`; expires=${r.toUTCString()}`:"",c+=i?`; path=${i}`:"",c+=a?`; domain=${a}`:"",c+=s?`; samesite=${s}`:"",c+=d?"; secure":"",document.cookie=c}catch{}})(l,o,{domain:u,path:m,samesite:"none",secure:!0}):o.data instanceof Error||(R=o.data.providerOrigin??""))}),!1),f?window.addEventListener("storage",S,!1):(g=JSON.stringify(e(l)),setInterval((()=>{const t=JSON.stringify(e(l));g!==t&&(g=t,S({key:l,newValue:t}))}),1e3))})();
//# sourceMappingURL=/rambler-id-helper/2.3.0/storage.js.map</script></body></html>